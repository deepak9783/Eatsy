import{r as l,j as e,S as Ua,c as Se,d as z,u as q,M as Y,L as ue,e as T,f as w,U as ke,P as Va,g as he,h as Re,T as Te,i as Pe,C as Oe,k as De,l as Qa,m as Ee,I as Ae,n as Fe,o as $e,p as J,q as Ie,s as ze,t as Le,v as Me,w as Ga,x as _e,y as He,z as Ka,A as qe,B as Be,D as Ue,E as Ve,F as Qe,G as Ge,H as Ke,J as Ya,K as Ja,N as Ye,O as Je,Q as We,V as W,W as Xe,X,Y as pe,Z as ge,_ as Z,$ as ee,a0 as Ze,a1 as ea,a2 as aa,a3 as sa,a4 as ta,a5 as Wa,a6 as Xa,a7 as Za,a8 as es,a9 as as,aa as ss,ab as ra,ac as fe,ad as ts,ae as na,af as rs,ag as la,ah as ns,ai as ls,aj as os,ak as is,al as ds,am as cs,an as ms,ao as oa,ap as xs,aq as ia,ar as da,as as us,at as ca,au as hs,av as ma,aw as ps,ax as xa,ay as ua,az as gs,aA as fs,aB as ha,aC as js,aD as ys,aE as Ns,aF as bs,aG as vs,aH as ws,aI as Cs,aJ as Ss,aK as _,aL as ks}from"./vendor-react-CrNCTkpE.js";import{w as Rs,x as Ts,y as ae,z as se,A as R,B as L,C as M,D as b,E as pa,F as Ps,G as ga,H as Os,$ as Ds}from"./vendor-WVGsca6u.js";import{a as v}from"./vendor-essentials-Dq7h7Pqt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function i(...a){return Rs(Ts(a))}const Es=ae("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef(({className:a,variant:t,size:s,asChild:r=!1,...n},o)=>{const m=r?Ua:"button";return e.jsx(m,{className:i(Es({variant:t,size:s,className:a})),ref:o,...n})});c.displayName="Button";const j=l.forwardRef(({className:a,type:t,...s},r)=>e.jsx("input",{type:t,className:i("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...s}));j.displayName="Input";const B=l.forwardRef(({className:a,orientation:t="horizontal",decorative:s=!0,...r},n)=>e.jsx(Se,{ref:n,decorative:s,orientation:t,className:i("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...r}));B.displayName=Se.displayName;const As=se({fullname:R().min(1,"Fullname is required"),email:R().email("Invalid email address"),password:R().min(6,"Password must be at least 6 characters."),contact:R().min(10,{message:"Contact number at least 10 digit"}).max(10,"Contact number at most 10 digit")}),Fs=se({email:R().email("Invalid email address"),password:R().min(6,"Password must be at least 6 characters.")}),A="/api/v1/user";v.defaults.withCredentials=!0;const S=z()(L(a=>({user:null,isAuthenticated:!1,isCheckingAuth:!0,loading:!1,signup:async t=>{var s,r;try{a({loading:!0});const n=await v.post(`${A}/signup`,t,{headers:{"Content-Type":"application/json"}});n.data.success?(b.success(n.data.message),a({loading:!1,user:n.data.user,isAuthenticated:!0})):a({loading:!1})}catch(n){console.error("Signup error:",n),b.error(((r=(s=n.response)==null?void 0:s.data)==null?void 0:r.message)||"An error occurred during signup"),a({loading:!1})}},login:async t=>{var s,r;try{a({loading:!0});const n=await v.post(`${A}/login`,t,{headers:{"Content-Type":"application/json"}});n.data.success?(b.success(n.data.message),a({loading:!1,user:n.data.user,isAuthenticated:!0})):a({loading:!1})}catch(n){console.error("Login error:",n),b.error(((r=(s=n.response)==null?void 0:s.data)==null?void 0:r.message)||"An error occurred during login"),a({loading:!1})}},verifyEmail:async t=>{try{a({loading:!0});const s=await v.post(`${A}/verify-email`,{verificationCode:t},{headers:{"Content-Type":"application/json"}});s.data.success&&(b.success(s.data.message),a({loading:!1,user:s.data.user,isAuthenticated:!0}))}catch(s){b.success(s.response.data.message),a({loading:!1})}},checkAuthentication:async()=>{try{a({isCheckingAuth:!0});const t=await v.get(`${A}/check-auth`);t.data.success&&a({user:t.data.user,isAuthenticated:!0,isCheckingAuth:!1})}catch{a({isAuthenticated:!1,isCheckingAuth:!1})}},logout:async()=>{try{a({loading:!0});const t=await v.post(`${A}/logout`);t.data.success&&(b.success(t.data.message),a({loading:!1,user:null,isAuthenticated:!1}))}catch(t){b.error(t.response.data.message),a({loading:!1})}},forgotPassword:async t=>{try{a({loading:!0});const s=await v.post(`${A}/forgot-password`,{email:t});s.data.success&&(b.success(s.data.message),a({loading:!1}))}catch(s){b.error(s.response.data.message),a({loading:!1})}},resetPassword:async(t,s)=>{try{a({loading:!0});const r=await v.post(`${A}/resetpassword/${t}`,{newPassword:s});r.data.success&&(b.success(r.data.message),a({loading:!1}))}catch(r){b.error(r.response.data.message),a({loading:!1})}},updateProfile:async t=>{try{const s=await v.put(`${A}/profile/update`,t,{headers:{"Content-Type":"application/json"}});s.data.success&&(b.success(s.data.message),a({user:s.data.user,isAuthenticated:!0}))}catch(s){b.error(s.response.data.message)}}}),{name:"user-name",storage:M(()=>localStorage)})),$s=()=>{const[a,t]=l.useState({email:"",password:""}),[s,r]=l.useState({}),{loading:n,login:o}=S(),m=q(),N=d=>{const{name:x,value:h}=d.target;t({...a,[x]:h})},u=async d=>{d.preventDefault();const x=Fs.safeParse(a);if(!x.success){const h=x.error.formErrors.fieldErrors;r(h);return}try{await o(a),m("/")}catch(h){console.log(h)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("form",{onSubmit:u,className:"md:p-8 w-full max-w-md rounded-lg md:border border-gray-200 mx-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h1",{className:"font-bold text-2xl",children:"PatelEats"})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"email",placeholder:"Email",name:"email",value:a.email,onChange:N,className:"pl-10 focus-visible:ring-1"}),e.jsx(Y,{className:"absolute inset-y-2 left-2 text-gray-500 pointer-events-none"}),s&&e.jsx("span",{className:"text-xs text-red-500",children:s.email})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"password",placeholder:"Password",name:"password",value:a.password,onChange:N,className:"pl-10 focus-visible:ring-1"}),e.jsx(ue,{className:"absolute inset-y-2 left-2 text-gray-500 pointer-events-none"}),s&&e.jsx("span",{className:"text-xs text-red-500",children:s.password})]})}),e.jsxs("div",{className:"mb-10",children:[n?e.jsxs(c,{disabled:!0,className:"w-full bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"})," Please wait"]}):e.jsx(c,{type:"submit",className:"w-full bg-orange hover:bg-hoverOrange",children:"Login"}),e.jsx("div",{className:"mt-4",children:e.jsx(w,{to:"/forgot-password",className:"hover:text-blue-500 hover:underline",children:"Forgot Password"})})]}),e.jsx(B,{}),e.jsxs("p",{className:"mt-2",children:["Don't have an account?"," ",e.jsx(w,{to:"/signup",className:"text-blue-500",children:"Signup"})]})]})})},Is=()=>{const[a,t]=l.useState({fullname:"",email:"",password:"",contact:""}),[s,r]=l.useState({}),{signup:n,loading:o}=S(),m=q(),N=d=>{const{name:x,value:h}=d.target;t({...a,[x]:h})},u=async d=>{d.preventDefault();const x=As.safeParse(a);if(!x.success){const h=x.error.formErrors.fieldErrors;r(h);return}try{await n(a),m("/verify-email")}catch(h){console.log(h)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("form",{onSubmit:u,className:"md:p-8 w-full max-w-md rounded-lg md:border border-gray-200 mx-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h1",{className:"font-bold text-2xl",children:"PatelEats"})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"text",placeholder:"Full Name",name:"fullname",value:a.fullname,onChange:N,className:"pl-10 focus-visible:ring-1"}),e.jsx(ke,{className:"absolute inset-y-2 left-2 text-gray-500 pointer-events-none"}),s&&e.jsx("span",{className:"text-xs text-red-500",children:s.fullname})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"email",placeholder:"Email",name:"email",value:a.email,onChange:N,className:"pl-10 focus-visible:ring-1"}),e.jsx(Y,{className:"absolute inset-y-2 left-2 text-gray-500 pointer-events-none"}),s&&e.jsx("span",{className:"text-xs text-red-500",children:s.email})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"password",placeholder:"Password",name:"password",value:a.password,onChange:N,className:"pl-10 focus-visible:ring-1"}),e.jsx(ue,{className:"absolute inset-y-2 left-2 text-gray-500 pointer-events-none"}),s&&e.jsx("span",{className:"text-xs text-red-500",children:s.password})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"text",placeholder:"Contact",name:"contact",value:a.contact,onChange:N,className:"pl-10 focus-visible:ring-1"}),e.jsx(Va,{className:"absolute inset-y-2 left-2 text-gray-500 pointer-events-none"}),s&&e.jsx("span",{className:"text-xs text-red-500",children:s.contact})]})}),e.jsx("div",{className:"mb-10",children:o?e.jsxs(c,{disabled:!0,className:"w-full bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"})," Please wait"]}):e.jsx(c,{type:"submit",className:"w-full bg-orange hover:bg-hoverOrange",children:"Signup"})}),e.jsx(B,{}),e.jsxs("p",{className:"mt-2",children:["Already have an account?"," ",e.jsx(w,{to:"/login",className:"text-blue-500",children:"Login"})]})]})})},zs=()=>{const[a,t]=l.useState(""),{loading:s,forgotPassword:r}=S(),n=async o=>{o.preventDefault(),await r(a)};return e.jsx("div",{className:"flex items-center justify-center min-h-screen w-full",children:e.jsxs("form",{onSubmit:n,className:"flex flex-col gap-5 md:p-8 w-full max-w-md rounded-lg mx-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-extrabold text-2xl mb-2",children:"Forgot Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enter your email address to reset your password"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx(j,{type:"text",value:a,onChange:o=>t(o.target.value),placeholder:"Enter your email",className:"pl-10"}),e.jsx(Y,{className:"absolute inset-y-2 left-2 text-gray-600 pointer-events-none"})]}),s?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"})," Please wait"]}):e.jsx(c,{className:"bg-orange hover:bg-hoverOrange",children:"Send Reset Link"}),e.jsxs("span",{className:"text-center",children:["Back to"," ",e.jsx(w,{to:"/login",className:"text-blue-500",children:"Login"})]})]})})},Ls=()=>{const[a,t]=l.useState(""),{loading:s,resetPassword:r}=S(),{token:n}=he(),o=async m=>{if(m.preventDefault(),!n){b.error("Invalid or missing reset token.");return}await r(n,a)};return e.jsx("div",{className:"flex items-center justify-center min-h-screen w-full",children:e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-5 md:p-8 w-full max-w-md rounded-lg mx-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-extrabold text-2xl mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enter your new password to reset old one"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx(j,{type:"password",value:a,onChange:m=>t(m.target.value),placeholder:"Enter your new password",className:"pl-10"}),e.jsx(ue,{className:"absolute inset-y-2 left-2 text-gray-600 pointer-events-none"})]}),s?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"})," Please wait"]}):e.jsx(c,{className:"bg-orange hover:bg-hoverOrange",children:"Reset Password"}),e.jsxs("span",{className:"text-center",children:["Back to"," ",e.jsx(w,{to:"/login",className:"text-blue-500",children:"Login"})]})]})})},Ms=()=>{const[a,t]=l.useState(["","","","","",""]),s=l.useRef([]),{loading:r,verifyEmail:n}=S(),o=q(),m=(d,x)=>{if(/^[a-zA-Z0-9]$/.test(x)||x===""){const h=[...a];h[d]=x,t(h)}x!==""&&d<5&&s.current[d+1].focus()},N=(d,x)=>{x.key==="Backspace"&&!a[d]&&d>0&&s.current[d-1].focus()},u=async d=>{d.preventDefault();const x=a.join("");try{await n(x),o("/")}catch(h){console.log(h)}};return e.jsx("div",{className:"flex items-center justify-center h-screen w-full",children:e.jsxs("div",{className:"p-8 rounded-md w-full max-w-md flex flex-col gap-10 border border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-extrabold text-2xl",children:"Verify your email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6 digit code sent to your email address"})]}),e.jsxs("form",{onSubmit:u,children:[e.jsx("div",{className:"flex justify-between",children:a.map((d,x)=>e.jsx(j,{ref:h=>s.current[x]=h,type:"text",maxLength:1,value:d,onChange:h=>m(x,h.target.value),onKeyDown:h=>N(x,h),className:"md:w-12 md:h-12 w-8 h-8 text-center text-sm md:text-2xl font-normal md:font-bold rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"},x))}),r?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange mt-6 w-full",children:[e.jsx(T,{className:"mr-2 w-4 h-4 animate-spin"}),"Please wait"]}):e.jsx(c,{className:"bg-orange hover:bg-hoverOrange mt-6 w-full",children:"Verify"})]})]})})},_s=()=>e.jsx("footer",{className:"bg-gray-800 text-center text-gray-300 py-8 px-4",children:e.jsx("p",{className:"text-sm",children:"© 2024 FoodEats. All rights reserved."})}),Hs=Ga,fa=l.forwardRef(({className:a,...t},s)=>e.jsx(Re,{ref:s,className:i("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",a),...t}));fa.displayName=Re.displayName;const ja=l.forwardRef(({className:a,...t},s)=>e.jsx(Te,{ref:s,className:i("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a),...t}));ja.displayName=Te.displayName;const qs=l.forwardRef(({className:a,inset:t,children:s,...r},n)=>e.jsxs(Pe,{ref:n,className:i("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",a),...r,children:[s,e.jsx(Oe,{className:"ml-auto h-4 w-4"})]}));qs.displayName=Pe.displayName;const Bs=l.forwardRef(({className:a,...t},s)=>e.jsx(De,{ref:s,className:i("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t}));Bs.displayName=De.displayName;const ya=l.forwardRef(({className:a,align:t="start",alignOffset:s=-4,sideOffset:r=8,...n},o)=>e.jsx(Qa,{children:e.jsx(Ee,{ref:o,align:t,alignOffset:s,sideOffset:r,className:i("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}));ya.displayName=Ee.displayName;const G=l.forwardRef(({className:a,inset:t,...s},r)=>e.jsx(Ae,{ref:r,className:i("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",a),...s}));G.displayName=Ae.displayName;const Us=l.forwardRef(({className:a,children:t,checked:s,...r},n)=>e.jsxs(Fe,{ref:n,className:i("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx($e,{children:e.jsx(J,{className:"h-4 w-4"})})}),t]}));Us.displayName=Fe.displayName;const Vs=l.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(Ie,{ref:r,className:i("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx($e,{children:e.jsx(ze,{className:"h-4 w-4 fill-current"})})}),t]}));Vs.displayName=Ie.displayName;const Qs=l.forwardRef(({className:a,inset:t,...s},r)=>e.jsx(Le,{ref:r,className:i("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",a),...s}));Qs.displayName=Le.displayName;const Gs=l.forwardRef(({className:a,...t},s)=>e.jsx(Me,{ref:s,className:i("-mx-1 my-1 h-px bg-muted",a),...t}));Gs.displayName=Me.displayName;const Na=Ya,ba=Ja,Ks=l.forwardRef(({className:a,inset:t,children:s,...r},n)=>e.jsxs(_e,{ref:n,className:i("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",a),...r,children:[s,e.jsx(Oe,{className:"ml-auto"})]}));Ks.displayName=_e.displayName;const Ys=l.forwardRef(({className:a,...t},s)=>e.jsx(He,{ref:s,className:i("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t}));Ys.displayName=He.displayName;const je=l.forwardRef(({className:a,sideOffset:t=4,...s},r)=>e.jsx(Ka,{children:e.jsx(qe,{ref:r,sideOffset:t,className:i("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}));je.displayName=qe.displayName;const H=l.forwardRef(({className:a,inset:t,...s},r)=>e.jsx(Be,{ref:r,className:i("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",a),...s}));H.displayName=Be.displayName;const Js=l.forwardRef(({className:a,children:t,checked:s,...r},n)=>e.jsxs(Ue,{ref:n,className:i("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ve,{children:e.jsx(J,{className:"h-4 w-4"})})}),t]}));Js.displayName=Ue.displayName;const Ws=l.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(Qe,{ref:r,className:i("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ve,{children:e.jsx(ze,{className:"h-2 w-2 fill-current"})})}),t]}));Ws.displayName=Qe.displayName;const Xs=l.forwardRef(({className:a,inset:t,...s},r)=>e.jsx(Ge,{ref:r,className:i("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",a),...s}));Xs.displayName=Ge.displayName;const Zs=l.forwardRef(({className:a,...t},s)=>e.jsx(Ke,{ref:s,className:i("-mx-1 my-1 h-px bg-muted",a),...t}));Zs.displayName=Ke.displayName;const U=l.forwardRef(({className:a,...t},s)=>e.jsx(Ye,{ref:s,className:i("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));U.displayName=Ye.displayName;const V=l.forwardRef(({className:a,...t},s)=>e.jsx(Je,{ref:s,className:i("aspect-square h-full w-full",a),...t}));V.displayName=Je.displayName;const Q=l.forwardRef(({className:a,...t},s)=>e.jsx(We,{ref:s,className:i("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));Q.displayName=We.displayName;const et=Ze,at=ea,st=pe,tt=Xe,va=l.forwardRef(({className:a,...t},s)=>e.jsx(W,{className:i("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:s}));va.displayName=W.displayName;const rt=ae("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),wa=l.forwardRef(({side:a="right",className:t,children:s,...r},n)=>e.jsxs(tt,{children:[e.jsx(va,{}),e.jsxs(X,{ref:n,className:i(rt({side:a}),t),...r,children:[e.jsxs(pe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));wa.displayName=X.displayName;const Ca=({className:a,...t})=>e.jsx("div",{className:i("flex flex-col space-y-2 text-center sm:text-left",a),...t});Ca.displayName="SheetHeader";const Sa=({className:a,...t})=>e.jsx("div",{className:i("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t});Sa.displayName="SheetFooter";const ka=l.forwardRef(({className:a,...t},s)=>e.jsx(Z,{ref:s,className:i("text-lg font-semibold text-foreground",a),...t}));ka.displayName=Z.displayName;const Ra=l.forwardRef(({className:a,...t},s)=>e.jsx(ee,{ref:s,className:i("text-sm text-muted-foreground",a),...t}));Ra.displayName=ee.displayName;const te=z()(L(a=>({cart:[],addToCart:t=>{a(s=>s.cart.find(n=>n._id===t._id)?{cart:s==null?void 0:s.cart.map(n=>n._id===t._id?{...n,quantity:n.quantity+1}:n)}:{cart:[...s.cart,{...t,quantity:1}]})},clearCart:()=>{a({cart:[]})},removeFromTheCart:t=>{a(s=>({cart:s.cart.filter(r=>r._id!==t)}))},incrementQuantity:t=>{a(s=>({cart:s.cart.map(r=>r._id===t?{...r,quantity:r.quantity+1}:r)}))},decrementQuantity:t=>{a(s=>({cart:s.cart.map(r=>r._id===t&&r.quantity>1?{...r,quantity:r.quantity-1}:r)}))}}),{name:"cart-name",storage:M(()=>localStorage)})),ye=z()(L(a=>({theme:"light",setTheme:t=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("vite-ui-theme",t),a({theme:t})},loadThemeFromStorage:(t,s)=>{const r=localStorage.getItem(t)||s;a({theme:r})},initializeTheme:()=>{if(typeof window<"u"){const s=localStorage.getItem("vite-ui-theme"),r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(s),a({theme:s})}}}),{name:"theme-store",storage:M(()=>localStorage)})),nt=()=>{const{user:a,loading:t,logout:s}=S(),{cart:r}=te(),{setTheme:n}=ye();return e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsx(w,{to:"/",children:e.jsx("h1",{className:"font-bold md:font-extrabold text-2xl",children:"FoodEats"})}),e.jsxs("div",{className:"hidden md:flex items-center gap-10",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsx(w,{to:"/",children:"Home"}),e.jsx(w,{to:"/profile",children:"Profile"}),e.jsx(w,{to:"/order/status",children:"Order"}),(a==null?void 0:a.admin)&&e.jsx(fa,{children:e.jsxs(Hs,{children:[e.jsx(ja,{children:"Dashboard"}),e.jsxs(ya,{children:[e.jsx(w,{to:"/admin/restaurant",children:e.jsx(G,{children:"Restaurant"})}),e.jsx(w,{to:"/admin/menu",children:e.jsx(G,{children:"Menu"})}),e.jsx(w,{to:"/admin/orders",children:e.jsx(G,{children:"Orders"})})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{children:e.jsxs(Na,{children:[e.jsx(ba,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"icon",children:[e.jsx(aa,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(sa,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(je,{align:"end",children:[e.jsx(H,{onClick:()=>n("light"),children:"Light"}),e.jsx(H,{onClick:()=>n("dark"),children:"Dark"})]})]})}),e.jsxs(w,{to:"/cart",className:"relative cursor-pointer",children:[e.jsx(ta,{}),r.length>0&&e.jsx(c,{size:"icon",className:"absolute -inset-y-3 left-2 text-xs rounded-full w-4 h-4 bg-red-500 hover:bg-red-500",children:r.length})]}),e.jsx("div",{children:e.jsxs(U,{children:[e.jsx(V,{src:a==null?void 0:a.profilePicture,alt:"profilephoto"}),e.jsx(Q,{children:"CN"})]})}),e.jsx("div",{children:t?e.jsxs(c,{className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(c,{onClick:s,className:"bg-orange hover:bg-hoverOrange",children:"Logout"})})]})]}),e.jsx("div",{className:"md:hidden lg:hidden",children:e.jsx(lt,{})})]})})},lt=()=>{const{user:a,logout:t,loading:s}=S(),{setTheme:r}=ye();return e.jsxs(et,{children:[e.jsx(at,{asChild:!0,children:e.jsx(c,{size:"icon",className:"rounded-full bg-gray-200 text-black hover:bg-gray-200",variant:"outline",children:e.jsx(Wa,{size:"18"})})}),e.jsxs(wa,{className:"flex flex-col",children:[e.jsxs(Ca,{className:"flex flex-row items-center justify-between mt-2",children:[e.jsx(ka,{children:"FoodEats"}),e.jsxs(Na,{children:[e.jsx(ba,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"icon",children:[e.jsx(aa,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(sa,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(je,{align:"end",children:[e.jsx(H,{onClick:()=>r("light"),children:"Light"}),e.jsx(H,{onClick:()=>r("dark"),children:"Dark"})]})]})]}),e.jsx(B,{className:"my-2"}),e.jsxs(Ra,{className:"flex-1",children:[e.jsxs(w,{to:"/profile",className:"flex items-center gap-4 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:text-gray-900 font-medium",children:[e.jsx(ke,{}),e.jsx("span",{children:"Profile"})]}),e.jsxs(w,{to:"/order/status",className:"flex items-center gap-4 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:text-gray-900 font-medium",children:[e.jsx(Xa,{}),e.jsx("span",{children:"Order"})]}),e.jsxs(w,{to:"/cart",className:"flex items-center gap-4 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:text-gray-900 font-medium",children:[e.jsx(ta,{}),e.jsx("span",{children:"Cart (0)"})]}),(a==null?void 0:a.admin)&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{to:"/admin/menu",className:"flex items-center gap-4 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:text-gray-900 font-medium",children:[e.jsx(Za,{}),e.jsx("span",{children:"Menu"})]}),e.jsxs(w,{to:"/admin/restaurant",className:"flex items-center gap-4 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:text-gray-900 font-medium",children:[e.jsx(es,{}),e.jsx("span",{children:"Restaurant"})]}),e.jsxs(w,{to:"/admin/orders",className:"flex items-center gap-4 hover:bg-gray-200 px-3 py-2 rounded-lg cursor-pointer hover:text-gray-900 font-medium",children:[e.jsx(as,{}),e.jsx("span",{children:"Restaurant Orders"})]})]})]}),e.jsxs(Sa,{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs(U,{children:[e.jsx(V,{src:a==null?void 0:a.profilePicture}),e.jsx(Q,{children:"CN"})]}),e.jsx("h1",{className:"font-bold",children:"Patel Mernstack"})]}),e.jsx(st,{asChild:!0,children:s?e.jsxs(c,{className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(c,{onClick:t,className:"bg-orange hover:bg-hoverOrange",children:"Logout"})})]})]})]})},ot=()=>e.jsxs("div",{className:"flex flex-col min-h-screen m-2 md:m-0",children:[e.jsx("header",{children:e.jsx(nt,{})}),e.jsx("div",{className:"flex-1",children:e.jsx(ss,{})}),e.jsx("footer",{children:e.jsx(_s,{})})]}),it=ae("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=l.forwardRef(({className:a,...t},s)=>e.jsx(ra,{ref:s,className:i(it(),a),...t}));y.displayName=ra.displayName;const dt=()=>{const{user:a,updateProfile:t}=S(),[s,r]=l.useState(!1),[n,o]=l.useState({fullname:(a==null?void 0:a.fullname)||"",email:(a==null?void 0:a.email)||"",address:(a==null?void 0:a.address)||"",city:(a==null?void 0:a.city)||"",country:(a==null?void 0:a.country)||"",profilePicture:(a==null?void 0:a.profilePicture)||""}),m=l.useRef(null),[N,u]=l.useState(n.profilePicture||""),d=f=>{var g;const p=(g=f.target.files)==null?void 0:g[0];if(p){const O=new FileReader;O.onloadend=()=>{const C=O.result;u(C),o(P=>({...P,profilePicture:C}))},O.readAsDataURL(p)}},x=f=>{const{name:p,value:g}=f.target;o({...n,[p]:g})},h=async f=>{f.preventDefault();try{r(!0),await t(n),r(!1)}catch{r(!1)}};return e.jsxs("form",{onSubmit:h,className:"max-w-7xl mx-auto my-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(U,{className:"relative md:w-28 md:h-28 w-20 h-20",children:[e.jsx(V,{src:N}),e.jsx(Q,{children:"CN"}),e.jsx("input",{ref:m,className:"hidden",type:"file",accept:"image/*",onChange:d}),e.jsx("div",{onClick:()=>{var f;return(f=m.current)==null?void 0:f.click()},className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 bg-black bg-opacity-50 rounded-full cursor-pointer",children:e.jsx(fe,{className:"text-white w-8 h-8"})})]}),e.jsx(j,{type:"text",name:"fullname",value:n.fullname,onChange:x,className:"font-bold text-2xl outline-none border-none focus-visible:ring-transparent"})]})}),e.jsxs("div",{className:"grid md:grid-cols-4 md:gap-2 gap-3 my-10",children:[e.jsxs("div",{className:"flex items-center gap-4 rounded-sm p-2 bg-gray-200",children:[e.jsx(Y,{className:"text-gray-500"}),e.jsxs("div",{className:"w-full",children:[e.jsx(y,{children:"Email"}),e.jsx("input",{disabled:!0,name:"email",value:n.email,onChange:x,className:"w-full text-gray-600 bg-transparent focus-visible:ring-0 focus-visible:border-transparent outline-none border-none"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 rounded-sm p-2 bg-gray-200",children:[e.jsx(ts,{className:"text-gray-500"}),e.jsxs("div",{className:"w-full",children:[e.jsx(y,{children:"Address"}),e.jsx("input",{name:"address",value:n.address,onChange:x,className:"w-full text-gray-600 bg-transparent focus-visible:ring-0 focus-visible:border-transparent outline-none border-none"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 rounded-sm p-2 bg-gray-200",children:[e.jsx(na,{className:"text-gray-500"}),e.jsxs("div",{className:"w-full",children:[e.jsx(y,{children:"City"}),e.jsx("input",{name:"city",value:n.city,onChange:x,className:"w-full text-gray-600 bg-transparent focus-visible:ring-0 focus-visible:border-transparent outline-none border-none"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 rounded-sm p-2 bg-gray-200",children:[e.jsx(rs,{className:"text-gray-500"}),e.jsxs("div",{className:"w-full",children:[e.jsx(y,{children:"Country"}),e.jsx("input",{name:"country",value:n.country,onChange:x,className:"w-full text-gray-600 bg-transparent focus-visible:ring-0 focus-visible:border-transparent outline-none border-none"})]})]})]}),e.jsx("div",{className:"text-center",children:s?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 w-4 h-4 animate-spin"}),"Please wait"]}):e.jsx(c,{type:"submit",className:"bg-orange hover:bg-hoverOrange",children:"Update"})})]})},$="/api/v1/restaurant";v.defaults.withCredentials=!0;const E=z()(L((a,t)=>({loading:!1,restaurant:null,searchedRestaurant:null,appliedFilter:[],singleRestaurant:null,restaurantOrder:[],createRestaurant:async s=>{try{a({loading:!0});const r=await v.post(`${$}/`,s,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(b.success(r.data.message),a({loading:!1}))}catch(r){b.error(r.response.data.message),a({loading:!1})}},getRestaurant:async()=>{try{a({loading:!0});const s=await v.get(`${$}/`);s.data.success&&a({loading:!1,restaurant:s.data.restaurant})}catch(s){s.response.status===404&&a({restaurant:null}),a({loading:!1})}},updateRestaurant:async s=>{try{a({loading:!0});const r=await v.put(`${$}/`,s,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(b.success(r.data.message),a({loading:!1}))}catch(r){b.error(r.response.data.message),a({loading:!1})}},searchRestaurant:async(s,r,n)=>{try{a({loading:!0});const o=new URLSearchParams;o.set("searchQuery",r),o.set("selectedCuisines",n.join(","));const m=await v.get(`${$}/search/${s}?${o.toString()}`);m.data.success&&a({loading:!1,searchedRestaurant:m.data})}catch{a({loading:!1})}},addMenuToRestaurant:s=>{a(r=>({restaurant:r.restaurant?{...r.restaurant,menus:[...r.restaurant.menus,s]}:null}))},updateMenuToRestaurant:s=>{a(r=>{if(r.restaurant){const n=r.restaurant.menus.map(o=>o._id===s._id?s:o);return{restaurant:{...r.restaurant,menus:n}}}return r})},setAppliedFilter:s=>{a(r=>({appliedFilter:r.appliedFilter.includes(s)?r.appliedFilter.filter(m=>m!==s):[...r.appliedFilter,s]}))},resetAppliedFilter:()=>{a({appliedFilter:[]})},getSingleRestaurant:async s=>{try{const r=await v.get(`${$}/${s}`);r.data.success&&a({singleRestaurant:r.data.restaurant})}catch{}},getRestaurantOrders:async()=>{try{const s=await v.get(`${$}/order`);s.data.success&&a({restaurantOrder:s.data.orders})}catch(s){console.log(s)}},updateRestaurantOrder:async(s,r)=>{try{const n=await v.put(`${$}/order/${s}/status`,{status:r},{headers:{"Content-Type":"application/json"}});if(n.data.success){const o=t().restaurantOrder.map(m=>m._id===s?{...m,status:n.data.status}:m);a({restaurantOrder:o}),b.success(n.data.message)}}catch(n){b.error(n.response.data.message)}}}),{name:"restaurant-name",storage:M(()=>localStorage)})),Ta=l.forwardRef(({className:a,...t},s)=>e.jsx(la,{ref:s,className:i("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...t,children:e.jsx(ns,{className:i("flex items-center justify-center text-current"),children:e.jsx(J,{className:"h-4 w-4"})})}));Ta.displayName=la.displayName;const ct=[{id:"burger",label:"Burger"},{id:"thali",label:"Thali"},{id:"biryani",label:"Biryani"},{id:"momos",label:"Momos"}],mt=()=>{const{setAppliedFilter:a,appliedFilter:t,resetAppliedFilter:s}=E(),r=n=>{a(n)};return e.jsxs("div",{className:"md:w-72",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"font-medium text-lg",children:"Filter by cuisines"}),e.jsx(c,{variant:"link",onClick:s,children:"Reset"})]}),ct.map(n=>e.jsxs("div",{className:"flex items-center space-x-2 my-5",children:[e.jsx(Ta,{id:n.id,checked:t.includes(n.label),onClick:()=>r(n.label)}),e.jsx(y,{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:n.label})]},n.id))]})},xt=ae("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xe({className:a,variant:t,...s}){return e.jsx("div",{className:i(xt({variant:t}),a),...s})}const re=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:i("rounded-xl border bg-card text-card-foreground shadow",a),...t}));re.displayName="Card";const ut=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:i("flex flex-col space-y-1.5 p-6",a),...t}));ut.displayName="CardHeader";const ht=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:i("font-semibold leading-none tracking-tight",a),...t}));ht.displayName="CardTitle";const pt=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:i("text-sm text-muted-foreground",a),...t}));pt.displayName="CardDescription";const ne=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:i("p-6 pt-0",a),...t}));ne.displayName="CardContent";const le=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{ref:s,className:i("flex items-center p-6 pt-0",a),...t}));le.displayName="CardFooter";const Pa=ls;function F({className:a,...t}){return e.jsx("div",{className:i("animate-pulse rounded-md bg-primary/10",a),...t})}const gt=()=>{const a=he(),[t,s]=l.useState(""),{loading:r,searchedRestaurant:n,searchRestaurant:o,setAppliedFilter:m,appliedFilter:N}=E();return l.useEffect(()=>{o(a.text,t,N)},[a.text,N]),e.jsx("div",{className:"max-w-7xl mx-auto my-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-10",children:[e.jsx(mt,{}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{type:"text",value:t,placeholder:"Search by restaurant & cuisines",onChange:u=>s(u.target.value)}),e.jsx(c,{onClick:()=>o(a.text,t,N),className:"bg-orange hover:bg-hoverOrange",children:"Search"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-2 my-3",children:[e.jsxs("h1",{className:"font-medium text-lg",children:["(",n==null?void 0:n.data.length,") Search result found"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4 md:mb-0",children:N.map((u,d)=>e.jsxs("div",{className:"relative inline-flex items-center max-w-full",children:[e.jsx(xe,{className:"text-[#D19254] rounded-md hover:cursor-pointer pr-6 whitespace-nowrap",variant:"outline",children:u}),e.jsx(ge,{onClick:()=>m(u),size:16,className:"absolute text-[#D19254] right-1 hover:cursor-pointer"})]},d))})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:r?e.jsx(ft,{}):!r&&(n==null?void 0:n.data.length)===0?e.jsx(jt,{searchText:a.text}):n==null?void 0:n.data.map(u=>e.jsxs(re,{className:"bg-white dark:bg-gray-800 shadow-xl rounded-xl overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pa,{ratio:16/6,children:e.jsx("img",{src:u.imageUrl,alt:"",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute top-2 left-2 bg-white dark:bg-gray-700 bg-opacity-75 rounded-lg px-3 py-1",children:e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Featured"})})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u.restaurantName}),e.jsxs("div",{className:"mt-2 gap-1 flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(na,{size:16}),e.jsxs("p",{className:"text-sm",children:["City:"," ",e.jsx("span",{className:"font-medium",children:u.city})]})]}),e.jsxs("div",{className:"mt-2 gap-1 flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx(os,{size:16}),e.jsxs("p",{className:"text-sm",children:["Country:"," ",e.jsx("span",{className:"font-medium",children:u.country})]})]}),e.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:u.cuisines.map((d,x)=>e.jsx(xe,{className:"font-medium px-2 py-1 rounded-full shadow-sm",children:d},x))})]}),e.jsx(le,{className:"p-4 border-t dark:border-t-gray-700 border-t-gray-100 text-white flex justify-end",children:e.jsx(w,{to:`/restaurant/${u._id}`,children:e.jsx(c,{className:"bg-orange hover:bg-hoverOrange font-semibold py-2 px-4 rounded-full shadow-md transition-colors duration-200",children:"View Menus"})})})]},u._id))})]})]})]})})},ft=()=>e.jsx(e.Fragment,{children:[...Array(3)].map((a,t)=>e.jsxs(re,{className:"bg-white dark:bg-gray-800 shadow-xl rounded-xl overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsx(Pa,{ratio:16/6,children:e.jsx(F,{className:"w-full h-full"})})}),e.jsxs(ne,{className:"p-4",children:[e.jsx(F,{className:"h-8 w-3/4 mb-2"}),e.jsx("div",{className:"mt-2 gap-1 flex items-center text-gray-600 dark:text-gray-400",children:e.jsx(F,{className:"h-4 w-1/2"})}),e.jsx("div",{className:"mt-2 flex gap-1 items-center text-gray-600 dark:text-gray-400",children:e.jsx(F,{className:"h-4 w-1/2"})}),e.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[e.jsx(F,{className:"h-6 w-20"}),e.jsx(F,{className:"h-6 w-20"}),e.jsx(F,{className:"h-6 w-20"})]})]}),e.jsx(le,{className:"p-4  dark:bg-gray-900 flex justify-end",children:e.jsx(F,{className:"h-10 w-24 rounded-full"})})]},t))}),jt=({searchText:a})=>e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"No results found"}),e.jsxs("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:[`We couldn't find any results for "`,a,'". ',e.jsx("br",{})," Try searching with a different term."]}),e.jsx(w,{to:"/",children:e.jsx(c,{className:"mt-4 bg-orange hover:bg-orangeHover",children:"Go Back to Home"})})]}),yt=({menus:a})=>{const{addToCart:t}=te(),s=q();return e.jsxs("div",{className:"md:p-4",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-extrabold mb-6",children:"Available Menus"}),e.jsx("div",{className:"grid md:grid-cols-3 space-y-4 md:space-y-0",children:a.map(r=>e.jsxs(re,{className:"max-w-xs mx-auto shadow-lg rounded-lg overflow-hidden",children:[e.jsx("img",{src:r.image,alt:"",className:"w-full h-40 object-cover"}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),e.jsxs("h3",{className:"text-lg font-semibold mt-4",children:["Price: ",e.jsxs("span",{className:"text-[#D19254]",children:["₹",r.price]})]})]}),e.jsx(le,{className:"p-4",children:e.jsx(c,{onClick:()=>{t(r),s("/cart")},className:"w-full bg-orange hover:bg-hoverOrange",children:"Add to Cart"})})]}))})]})},Nt=()=>{const a=he(),{singleRestaurant:t,getSingleRestaurant:s}=E();return l.useEffect(()=>{s(a.id)},[a.id]),e.jsx("div",{className:"max-w-6xl mx-auto my-10",children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"relative w-full h-32 md:h-64 lg:h-72",children:e.jsx("img",{src:(t==null?void 0:t.imageUrl)||"Loading...",alt:"res_image",className:"object-cover w-full h-full rounded-lg shadow-lg"})}),e.jsx("div",{className:"flex flex-col md:flex-row justify-between",children:e.jsxs("div",{className:"my-5",children:[e.jsx("h1",{className:"font-medium text-xl",children:(t==null?void 0:t.restaurantName)||"Loading..."}),e.jsx("div",{className:"flex gap-2 my-2",children:t==null?void 0:t.cuisines.map((r,n)=>e.jsx(xe,{children:r},n))}),e.jsx("div",{className:"flex md:flex-row flex-col gap-2 my-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-5 h-5"}),e.jsxs("h1",{className:"flex items-center gap-2 font-medium",children:["Delivery Time: ",e.jsxs("span",{className:"text-[#D19254]",children:[(t==null?void 0:t.deliveryTime)||"NA"," mins"]})]})]})})]})}),(t==null?void 0:t.menus)&&e.jsx(yt,{menus:t==null?void 0:t.menus})]})})},Oa=l.forwardRef(({className:a,...t},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:i("w-full caption-bottom text-sm",a),...t})}));Oa.displayName="Table";const Da=l.forwardRef(({className:a,...t},s)=>e.jsx("thead",{ref:s,className:i("[&_tr]:border-b",a),...t}));Da.displayName="TableHeader";const Ea=l.forwardRef(({className:a,...t},s)=>e.jsx("tbody",{ref:s,className:i("[&_tr:last-child]:border-0",a),...t}));Ea.displayName="TableBody";const Aa=l.forwardRef(({className:a,...t},s)=>e.jsx("tfoot",{ref:s,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t}));Aa.displayName="TableFooter";const K=l.forwardRef(({className:a,...t},s)=>e.jsx("tr",{ref:s,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t}));K.displayName="TableRow";const I=l.forwardRef(({className:a,...t},s)=>e.jsx("th",{ref:s,className:i("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t}));I.displayName="TableHead";const D=l.forwardRef(({className:a,...t},s)=>e.jsx("td",{ref:s,className:i("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...t}));D.displayName="TableCell";const bt=l.forwardRef(({className:a,...t},s)=>e.jsx("caption",{ref:s,className:i("mt-4 text-sm text-muted-foreground",a),...t}));bt.displayName="TableCaption";const Ne=Ze,vt=ea,wt=Xe,Fa=l.forwardRef(({className:a,...t},s)=>e.jsx(W,{ref:s,className:i("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t}));Fa.displayName=W.displayName;const oe=l.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(wt,{children:[e.jsx(Fa,{}),e.jsxs(X,{ref:r,className:i("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s,children:[t,e.jsxs(pe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oe.displayName=X.displayName;const be=({className:a,...t})=>e.jsx("div",{className:i("flex flex-col space-y-1.5 text-center sm:text-left",a),...t});be.displayName="DialogHeader";const ie=({className:a,...t})=>e.jsx("div",{className:i("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t});ie.displayName="DialogFooter";const ve=l.forwardRef(({className:a,...t},s)=>e.jsx(Z,{ref:s,className:i("text-lg font-semibold leading-none tracking-tight",a),...t}));ve.displayName=Z.displayName;const de=l.forwardRef(({className:a,...t},s)=>e.jsx(ee,{ref:s,className:i("text-sm text-muted-foreground",a),...t}));de.displayName=ee.displayName;const we="/api/v1/order";v.defaults.withCredentials=!0;const $a=z()(L(a=>({loading:!1,orders:[],createCheckoutSession:async t=>{try{a({loading:!0});const s=await v.post(`${we}/checkout/create-checkout-session`,t,{headers:{"Content-Type":"application/json"}});window.location.href=s.data.session.url,a({loading:!1})}catch{a({loading:!1})}},getOrderDetails:async()=>{try{a({loading:!0});const t=await v.get(`${we}/`);a({loading:!1,orders:t.data.orders})}catch{a({loading:!1})}}}),{name:"order-name",storage:M(()=>localStorage)})),Ct=({open:a,setOpen:t})=>{const{user:s}=S(),[r,n]=l.useState({name:(s==null?void 0:s.fullname)||"",email:(s==null?void 0:s.email)||"",contact:(s==null?void 0:s.contact.toString())||"",address:(s==null?void 0:s.address)||"",city:(s==null?void 0:s.city)||"",country:(s==null?void 0:s.country)||""}),{cart:o}=te(),{restaurant:m}=E(),{createCheckoutSession:N,loading:u}=$a(),d=h=>{const{name:f,value:p}=h.target;n({...r,[f]:p})},x=async h=>{h.preventDefault();try{const f={cartItems:o.map(p=>({menuId:p._id,name:p.name,image:p.image,price:p.price.toString(),quantity:p.quantity.toString()})),deliveryDetails:r,restaurantId:m==null?void 0:m._id};await N(f)}catch(f){console.log(f)}};return e.jsx(Ne,{open:a,onOpenChange:t,children:e.jsxs(oe,{children:[e.jsx(ds,{className:"font-semibold",children:"Review Your Order"}),e.jsx(de,{className:"text-xs",children:"Double-check your delivery details and ensure everything is in order. When you are ready, hit confirm button to finalize your order"}),e.jsxs("form",{onSubmit:x,className:"md:grid grid-cols-2 gap-2 space-y-1 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Fullname"}),e.jsx(j,{type:"text",name:"name",value:r.name,onChange:d})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Email"}),e.jsx(j,{disabled:!0,type:"email",name:"email",value:r.email,onChange:d})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Contact"}),e.jsx(j,{type:"text",name:"contact",value:r.contact,onChange:d})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Address"}),e.jsx(j,{type:"text",name:"address",value:r.address,onChange:d})]}),e.jsxs("div",{children:[e.jsx(y,{children:"City"}),e.jsx(j,{type:"text",name:"city",value:r.city,onChange:d})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Country"}),e.jsx(j,{type:"text",name:"country",value:r.country,onChange:d})]}),e.jsx(ie,{className:"col-span-2 pt-5",children:u?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(c,{className:"bg-orange hover:bg-hoverOrange",children:"Continue To Payment"})})]})]})})},St=()=>{const[a,t]=l.useState(!1),{cart:s,decrementQuantity:r,incrementQuantity:n,removeFromTheCart:o,clearCart:m}=te(),N=s.reduce((d,x)=>d+x.price*x.quantity,0),u=d=>{o(d)};return e.jsxs("div",{className:"flex flex-col max-w-7xl mx-auto my-10",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(c,{variant:"link",onClick:m,disabled:s.length===0,children:"Clear All"})}),e.jsxs(Oa,{children:[e.jsx(Da,{children:e.jsxs(K,{children:[e.jsx(I,{children:"Items"}),e.jsx(I,{children:"Title"}),e.jsx(I,{children:"Price"}),e.jsx(I,{children:"Quantity"}),e.jsx(I,{children:"Total"}),e.jsx(I,{className:"text-right",children:"Remove"})]})}),e.jsx(Ea,{children:s.map(d=>e.jsxs(K,{children:[e.jsx(D,{children:e.jsxs(U,{children:[e.jsx(V,{src:d.image,alt:d.name}),e.jsx(Q,{children:d.name.substring(0,2).toUpperCase()})]})}),e.jsx(D,{children:d.name}),e.jsxs(D,{children:["$",d.price.toFixed(2)]}),e.jsx(D,{children:e.jsxs("div",{className:"w-fit flex items-center rounded-full border border-gray-100 dark:border-gray-800 shadow-md",children:[e.jsx(c,{onClick:()=>r(d._id),size:"icon",variant:"outline",className:"rounded-full bg-gray-200",disabled:d.quantity<=1,children:e.jsx(cs,{className:"h-4 w-4"})}),e.jsx(c,{size:"icon",className:"font-bold border-none",disabled:!0,variant:"outline",children:d.quantity}),e.jsx(c,{onClick:()=>n(d._id),size:"icon",className:"rounded-full bg-orange hover:bg-hoverOrange",variant:"outline",children:e.jsx(fe,{className:"h-4 w-4"})})]})}),e.jsxs(D,{children:["$",(d.price*d.quantity).toFixed(2)]}),e.jsx(D,{className:"text-right",children:e.jsx(c,{size:"sm",variant:"destructive",className:"hover:bg-red-600",onClick:()=>u(d._id),children:e.jsx(ms,{className:"h-4 w-4"})})})]},`${d._id}-${d.name}`))}),e.jsx(Aa,{children:e.jsxs(K,{className:"text-2xl font-bold",children:[e.jsx(D,{colSpan:5,children:"Total"}),e.jsxs(D,{className:"text-right",children:["$",N.toFixed(2)]})]})})]}),e.jsx("div",{className:"flex justify-end my-5",children:e.jsx(c,{onClick:()=>t(!0),className:"bg-orange hover:bg-hoverOrange",disabled:s.length===0,children:"Proceed To Checkout"})}),e.jsx(Ct,{open:a,setOpen:t})]})},kt=se({restaurantName:R().nonempty({message:"Restaurant name is required"}),city:R().nonempty({message:"City is required"}),country:R().nonempty({message:"Country is required"}),deliveryTime:ga().min(0,{message:"Delivery time can not be negative"}),cuisines:Ps(R()),imageFile:pa(File).optional().refine(a=>(a==null?void 0:a.size)!==0,{message:"Image file is required"})}),Rt=()=>{var h;const[a,t]=l.useState({restaurantName:"",city:"",country:"",deliveryTime:0,cuisines:[],imageFile:void 0}),[s,r]=l.useState({}),{loading:n,restaurant:o,updateRestaurant:m,createRestaurant:N,getRestaurant:u}=E(),d=f=>{const{name:p,value:g,type:O}=f.target;t({...a,[p]:O==="number"?Number(g):g})},x=async f=>{f.preventDefault();const p=kt.safeParse(a);if(!p.success){const g=p.error.formErrors.fieldErrors;r(g);return}try{const g=new FormData;g.append("restaurantName",a.restaurantName),g.append("city",a.city),g.append("country",a.country),g.append("deliveryTime",a.deliveryTime.toString()),g.append("cuisines",JSON.stringify(a.cuisines)),a.imageFile&&g.append("imageFile",a.imageFile),o?await m(g):await N(g)}catch(g){console.log(g)}};return l.useEffect(()=>{(async()=>{await u(),o&&t({restaurantName:o.restaurantName||"",city:o.city||"",country:o.country||"",deliveryTime:o.deliveryTime||0,cuisines:o.cuisines?o.cuisines.map(p=>p):[],imageFile:void 0})})()},[]),e.jsx("div",{className:"max-w-6xl mx-auto my-10",children:e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h1",{className:"font-extrabold text-2xl mb-5",children:"Add Restaurants"}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"md:grid grid-cols-2 gap-6 space-y-2 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Restaurant Name"}),e.jsx(j,{type:"text",name:"restaurantName",value:a.restaurantName,onChange:d,placeholder:"Enter your restaurant name"}),s&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s.restaurantName})]}),e.jsxs("div",{children:[e.jsx(y,{children:"City"}),e.jsx(j,{type:"text",name:"city",value:a.city,onChange:d,placeholder:"Enter your city name"}),s&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s.city})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Country"}),e.jsx(j,{type:"text",name:"country",value:a.country,onChange:d,placeholder:"Enter your country name"}),s&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s.country})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Delivery Time"}),e.jsx(j,{type:"number",name:"deliveryTime",value:a.deliveryTime,onChange:d,placeholder:"Enter your delivery time"}),s&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s.deliveryTime})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Cuisines"}),e.jsx(j,{type:"text",name:"cuisines",value:a.cuisines,onChange:f=>t({...a,cuisines:f.target.value.split(",")}),placeholder:"e.g. Momos, Biryani"}),s&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:s.cuisines})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Upload Restaurant Banner"}),e.jsx(j,{onChange:f=>{var p;return t({...a,imageFile:((p=f.target.files)==null?void 0:p[0])||void 0})},type:"file",accept:"image/*",name:"imageFile"}),s&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:(h=s.imageFile)==null?void 0:h.name})]})]}),e.jsx("div",{className:"my-5 w-fit",children:n?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait"]}):e.jsx(c,{className:"bg-orange hover:bg-hoverOrange",children:o?"Update Your Restaurant":"Add Your Restaurant"})})]})]})})})},Ia=se({name:R().nonempty({message:"Name is required"}),description:R().nonempty({message:"description is required"}),price:ga().min(0,{message:"Price can not be negative"}),image:pa(File).optional().refine(a=>(a==null?void 0:a.size)!==0,{message:"Image file is required"})}),Ce="/api/v1/menu";v.defaults.withCredentials=!0;const za=z()(L(a=>({loading:!1,menu:null,createMenu:async t=>{try{a({loading:!0});const s=await v.post(`${Ce}/`,t,{headers:{"Content-Type":"multipart/form-data"}});s.data.success&&(b.success(s.data.message),a({loading:!1,menu:s.data.menu})),E.getState().addMenuToRestaurant(s.data.menu)}catch(s){b.error(s.response.data.message),a({loading:!1})}},editMenu:async(t,s)=>{try{a({loading:!0});const r=await v.put(`${Ce}/${t}`,s,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(b.success(r.data.message),a({loading:!1,menu:r.data.menu})),E.getState().updateMenuToRestaurant(r.data.menu)}catch(r){b.error(r.response.data.message),a({loading:!1})}}}),{name:"menu-name",storage:M(()=>localStorage)})),Tt=({selectedMenu:a,editOpen:t,setEditOpen:s})=>{var h;const[r,n]=l.useState({name:"",description:"",price:0,image:void 0}),[o,m]=l.useState({}),{loading:N,editMenu:u}=za(),d=f=>{const{name:p,value:g,type:O}=f.target;n({...r,[p]:O==="number"?Number(g):g})},x=async f=>{f.preventDefault();const p=Ia.safeParse(r);if(!p.success){const g=p.error.formErrors.fieldErrors;m(g);return}try{const g=new FormData;g.append("name",r.name),g.append("description",r.description),g.append("price",r.price.toString()),r.image&&g.append("image",r.image),await u(a._id,g)}catch(g){console.log(g)}};return l.useEffect(()=>{n({name:(a==null?void 0:a.name)||"",description:(a==null?void 0:a.description)||"",price:(a==null?void 0:a.price)||0,image:void 0})},[a]),e.jsx(Ne,{open:t,onOpenChange:s,children:e.jsxs(oe,{children:[e.jsxs(be,{children:[e.jsx(ve,{children:"Edit Menu"}),e.jsx(de,{children:"Update your menu to keep your offerings fresh and exciting!"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Name"}),e.jsx(j,{type:"text",name:"name",value:r.name,onChange:d,placeholder:"Enter menu name"}),o&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:o.name})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Description"}),e.jsx(j,{type:"text",name:"description",value:r.description,onChange:d,placeholder:"Enter menu description"}),o&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:o.description})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Price in (Rupees)"}),e.jsx(j,{type:"number",name:"price",value:r.price,onChange:d,placeholder:"Enter menu price"}),o&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:o.price})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Upload Menu Image"}),e.jsx(j,{type:"file",name:"image",onChange:f=>{var p;return n({...r,image:((p=f.target.files)==null?void 0:p[0])||void 0})}}),o&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:(h=o.image)==null?void 0:h.name})]}),e.jsx(ie,{className:"mt-5",children:N?e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 w-4 h-4 animate-spin"}),"Please wait"]}):e.jsx(c,{className:"bg-orange hover:bg-hoverOrange",children:"Submit"})})]})]})})},Pt=()=>{var O;const[a,t]=l.useState({name:"",description:"",price:0,image:void 0}),[s,r]=l.useState(!1),[n,o]=l.useState(!1),[m,N]=l.useState(),[u,d]=l.useState({}),{loading:x,createMenu:h}=za(),{restaurant:f}=E(),p=C=>{const{name:P,value:k,type:Ba}=C.target;t({...a,[P]:Ba==="number"?Number(k):k})},g=async C=>{C.preventDefault();const P=Ia.safeParse(a);if(!P.success){const k=P.error.formErrors.fieldErrors;d(k);return}try{const k=new FormData;k.append("name",a.name),k.append("description",a.description),k.append("price",a.price.toString()),a.image&&k.append("image",a.image),await h(k)}catch(k){console.log(k)}};return e.jsxs("div",{className:"max-w-6xl mx-auto my-10",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold md:font-extrabold text-lg md:text-2xl",children:"Available Menus"}),e.jsxs(Ne,{open:s,onOpenChange:r,children:[e.jsx(vt,{children:e.jsxs(c,{className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(fe,{className:"mr-2"}),"Add Menus"]})}),e.jsxs(oe,{children:[e.jsxs(be,{children:[e.jsx(ve,{children:"Add A New Menu"}),e.jsx(de,{children:"Create a menu that will make your restaurant stand out."})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Name"}),e.jsx(j,{type:"text",name:"name",value:a.name,onChange:p,placeholder:"Enter menu name"}),u&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:u.name})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Description"}),e.jsx(j,{type:"text",name:"description",value:a.description,onChange:p,placeholder:"Enter menu description"}),u&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:u.description})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Price in (Rupees)"}),e.jsx(j,{type:"number",name:"price",value:a.price,onChange:p,placeholder:"Enter menu price"}),u&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:u.price})]}),e.jsxs("div",{children:[e.jsx(y,{children:"Upload Menu Image"}),e.jsx(j,{type:"file",name:"image",onChange:C=>{var P;return t({...a,image:((P=C.target.files)==null?void 0:P[0])||void 0})}}),u&&e.jsx("span",{className:"text-xs font-medium text-red-600",children:(O=u.image)==null?void 0:O.name})]}),e.jsx(ie,{className:"mt-5",children:x?e.jsx(c,{className:"bg-orange hover:bg-hoverOrange",children:"Submit"}):e.jsxs(c,{disabled:!0,className:"bg-orange hover:bg-hoverOrange",children:[e.jsx(T,{className:"mr-2 w-4 h-4 animate-spin"}),"Please wait"]})})]})]})]})]}),f==null?void 0:f.menus.map((C,P)=>e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 md:p-4 p-2 shadow-md rounded-lg border",children:[e.jsx("img",{src:C.image,alt:"",className:"md:h-24 md:w-24 h-16 w-full object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:C.name}),e.jsx("p",{className:"text-sm tex-gray-600 mt-1",children:C.description}),e.jsxs("h2",{className:"text-md font-semibold mt-2",children:["Price: ",e.jsx("span",{className:"text-[#D19254]",children:C.price})]})]}),e.jsx(c,{onClick:()=>{N(C),o(!0)},size:"sm",className:"bg-orange hover:bg-hoverOrange mt-2",children:"Edit"})]})},P)),e.jsx(Tt,{selectedMenu:m,editOpen:n,setEditOpen:o})]})},Ot=js,Dt=Ns,Et=ys,La=l.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(oa,{ref:r,className:i("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[t,e.jsx(xs,{asChild:!0,children:e.jsx(ia,{className:"h-4 w-4 opacity-50"})})]}));La.displayName=oa.displayName;const Ma=l.forwardRef(({className:a,...t},s)=>e.jsx(da,{ref:s,className:i("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(us,{className:"h-4 w-4"})}));Ma.displayName=da.displayName;const _a=l.forwardRef(({className:a,...t},s)=>e.jsx(ca,{ref:s,className:i("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(ia,{className:"h-4 w-4"})}));_a.displayName=ca.displayName;const Ha=l.forwardRef(({className:a,children:t,position:s="popper",...r},n)=>e.jsx(hs,{children:e.jsxs(ma,{ref:n,className:i("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...r,children:[e.jsx(Ma,{}),e.jsx(ps,{className:i("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(_a,{})]})}));Ha.displayName=ma.displayName;const At=l.forwardRef(({className:a,...t},s)=>e.jsx(xa,{ref:s,className:i("px-2 py-1.5 text-sm font-semibold",a),...t}));At.displayName=xa.displayName;const qa=l.forwardRef(({className:a,children:t,...s},r)=>e.jsxs(ua,{ref:r,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(gs,{children:e.jsx(J,{className:"h-4 w-4"})})}),e.jsx(fs,{children:t})]}));qa.displayName=ua.displayName;const Ft=l.forwardRef(({className:a,...t},s)=>e.jsx(ha,{ref:s,className:i("-mx-1 my-1 h-px bg-muted",a),...t}));Ft.displayName=ha.displayName;const $t=()=>{const{restaurantOrder:a,getRestaurantOrders:t,updateRestaurantOrder:s}=E(),r=async(n,o)=>{await s(n,o)};return l.useEffect(()=>{t()},[]),e.jsxs("div",{className:"max-w-6xl mx-auto py-10 px-6",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-10",children:"Orders Overview"}),e.jsx("div",{className:"space-y-8",children:a.map(n=>e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start sm:items-center bg-white dark:bg-gray-800 shadow-lg rounded-xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex-1 mb-6 sm:mb-0",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:n.deliveryDetails.name}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:[e.jsx("span",{className:"font-semibold",children:"Address: "}),n.deliveryDetails.address]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:[e.jsx("span",{className:"font-semibold",children:"Total Amount: "}),n.totalAmount/100]})]}),e.jsxs("div",{className:"w-full sm:w-1/3",children:[e.jsx(y,{className:"block text-sm font-medium text-gray-700 dark:text-gray300 mb-2",children:"Order Status"}),e.jsxs(Ot,{onValueChange:o=>r(n._id,o),defaultValue:n.status,children:[e.jsx(La,{children:e.jsx(Et,{placeholder:"Select Status"})}),e.jsx(Ha,{children:e.jsx(Dt,{children:["Pending","Confirmed","Preparing","OutForDelivery","Delivered"].map((o,m)=>e.jsx(qa,{value:o.toLowerCase(),children:o},m))})})]})]})]}))})]})},It=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-bg-lightGreen to-emerald-900 flex items-center justify-center relative overflow-hidden",children:e.jsx(bs,{className:"animate-spin w-16 h-16 text-white"})}),zt=()=>{const{orders:a,getOrderDetails:t}=$a();return l.useEffect(()=>{t()},[]),a.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("h1",{className:"font-bold text-2xl text-gray-700 dark:text-gray-300",children:"Order not found!"})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 px-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 max-w-lg w-full",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:["Order Status:"," ",e.jsx("span",{className:"text-[#FF5A5A]",children:"confirm".toUpperCase()})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Order Summary"}),a.map((s,r)=>e.jsx("div",{children:s.cartItems.map(n=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:n.image,alt:"",className:"w-14 h-14 rounded-md object-cover"}),e.jsx("h3",{className:"ml-4 text-gray-800 dark:text-gray-200 font-medium",children:n.name})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-gray-800 dark:text-gray-200 flex items-center",children:[e.jsx(vs,{}),e.jsx("span",{className:"text-lg font-medium",children:n.price})]})})]}),e.jsx(B,{className:"my-4"})]}))},r))]}),e.jsx(w,{to:"/cart",children:e.jsx(c,{className:"bg-orange hover:bg-hoverOrange w-full py-3 rounded-md shadow-lg",children:"Continue Shopping"})})]})})},Lt="/assets/vecteezy_vegetable-thai-food-isolated-on-transparent-background_46342839-DULbh5Nh.png",Mt=()=>{const[a,t]=l.useState(""),s=q();return e.jsxs("div",{className:"flex flex-col md:flex-row max-w-7xl mx-auto md:p-10 rounded-lg items-center justify-center m-4 gap-20",children:[e.jsxs("div",{className:"flex flex-col gap-10 md:w-[40%]",children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("h1",{className:"font-bold md:font-extrabold md:text-5xl text-4xl",children:"Order meals wherever, whenever"}),e.jsx("p",{className:"text-gray-500",children:"Hi there! Your tasty meal is ready, and we're always near you"})]}),e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsx(j,{type:"text",value:a,placeholder:"Search restaurant by name, city & country",onChange:r=>t(r.target.value),className:"pl-10 shadow-lg"}),e.jsx(ws,{className:"text-gray-500 absolute inset-y-2 left-2"}),e.jsx(c,{onClick:()=>s(`/search/${a}`),className:"bg-orange hover:bg-hoverOrange",children:"Search"})]})]}),e.jsx("div",{children:e.jsx("img",{src:Lt,alt:"",className:"object-cover w-full max-h-[500px]"})})]})},_t=({children:a})=>{const{isAuthenticated:t,user:s}=S();return t?s!=null&&s.isVerified?a:e.jsx(_,{to:"/verify-email",replace:!0}):e.jsx(_,{to:"/login",replace:!0})},ce=({children:a})=>{const{isAuthenticated:t,user:s}=S();return t&&(s!=null&&s.isVerified)?e.jsx(_,{to:"/",replace:!0}):a},me=({children:a})=>{const{user:t,isAuthenticated:s}=S();return s?t!=null&&t.admin?a:e.jsx(_,{to:"/",replace:!0}):e.jsx(_,{to:"/login",replace:!0})},Ht=Cs([{path:"/",element:e.jsx(_t,{children:e.jsx(ot,{})}),children:[{path:"/",element:e.jsx(Mt,{})},{path:"/profile",element:e.jsx(dt,{})},{path:"/search/:text",element:e.jsx(gt,{})},{path:"/restaurant/:id",element:e.jsx(Nt,{})},{path:"/cart",element:e.jsx(St,{})},{path:"/order/status",element:e.jsx(zt,{})},{path:"/admin/restaurant",element:e.jsx(me,{children:e.jsx(Rt,{})})},{path:"/admin/menu",element:e.jsx(me,{children:e.jsx(Pt,{})})},{path:"/admin/orders",element:e.jsx(me,{children:e.jsx($t,{})})}]},{path:"/login",element:e.jsx(ce,{children:e.jsx($s,{})})},{path:"/signup",element:e.jsx(ce,{children:e.jsx(Is,{})})},{path:"/forgot-password",element:e.jsx(ce,{children:e.jsx(zs,{})})},{path:"/resetpassword/:token",element:e.jsx(Ls,{})},{path:"/verify-email",element:e.jsx(Ms,{})}]);function qt(){const a=ye(r=>r.initializeTheme),{checkAuthentication:t,isCheckingAuth:s}=S();return l.useEffect(()=>{t(),a()},[t]),s?e.jsx(It,{}):e.jsx("main",{children:e.jsx(Ss,{router:Ht})})}const Bt=({...a})=>{const{theme:t="system"}=Os();return e.jsx(Ds,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...a})};ks.createRoot(document.getElementById("root")).render(e.jsxs(l.StrictMode,{children:[e.jsx(qt,{}),e.jsx(Bt,{})]}));
